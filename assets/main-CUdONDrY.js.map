{"version":3,"file":"main-CUdONDrY.js","sources":["../../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst API_KEY = '50117384-0c3e90572e841b6f3be625418'; \nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const query = e.target.searchQuery.value.trim();\n  if (!query) return;\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n\n    const hits = response.data.hits;\n    if (hits.length === 0) {\n      iziToast.error({\n        title: 'Oops',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      const markup = hits.map(image => createImageCard(image)).join('');\n      gallery.innerHTML = markup;\n\n      if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery a');\n      }\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n    });\n  } finally {\n    hideLoader();\n  }\n});\n\n// Function to create image card markup\nfunction createImageCard(image) {\n  return `\n    <a class=\"gallery-item\" href=\"${image.largeImageURL}\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${image.likes}</p>\n        <p><b>Views:</b> ${image.views}</p>\n        <p><b>Comments:</b> ${image.comments}</p>\n        <p><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}"],"names":["API_KEY","form","gallery","loader","lightbox","e","query","showLoader","hits","axios","iziToast","markup","image","createImageCard","SimpleLightbox","hideLoader"],"mappings":"6vBAOA,MAAMA,EAAU,qCACVC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAGJH,EAAK,iBAAiB,SAAU,MAAMI,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,YAAY,MAAM,KAAI,EAC7C,GAAKC,EAEL,CAAAJ,EAAQ,UAAY,GACpBK,EAAU,EAEV,GAAI,CAWF,MAAMC,GAVW,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKT,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CACA,CAAK,GAEqB,KAAK,KAC3B,GAAIE,EAAK,SAAW,EAClBE,EAAS,MAAM,CACb,MAAO,OACP,QAAS,0EACjB,CAAO,MACI,CACL,MAAMC,EAASH,EAAK,IAAII,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEV,EAAQ,UAAYS,EAEhBP,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIU,EAAe,YAAY,CAE9C,CACF,MAAgB,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,CACH,QAAC,CACCK,EAAU,CACZ,EACF,CAAC,EAGD,SAASF,EAAgBD,EAAO,CAC9B,MAAO;AAAA,oCAC2BA,EAAM,aAAa;AAAA,kBACrCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2BAE7BA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI9C,CAEA,SAASL,GAAa,CACpBJ,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASY,GAAa,CACpBZ,EAAO,UAAU,IAAI,WAAW,CAClC"}